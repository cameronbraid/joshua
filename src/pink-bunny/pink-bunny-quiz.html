<html>
  <head>
    
    <link rel="stylesheet" type="text/css" href="pink-bunny.css" />

    <title>
      Pink Bunny Quiz
    </title>
  </head>

  <body onload="startUp(`q1`);">
    <script>
      
      var score = 0;
      var nextDiv = ``;
      var tds = document.getElementsByTagName(`td`);
      var tdCounter = 0;
      
      function startUp(divId) {
        var div = document.getElementById(divId);
        div.classList.remove(`hidden`);
      }
      
      function whenClick(func, thing1, thing2, divId) {
        var scoreDiv = document.getElementById(`score-div`);
        nextDiv = divId.split(`q`)[1];
        nextDiv++;
        console.log(divId);
        if (divId.split(`q`)[1] < 16) {
          if (func === `markRadios`) {
            markRadios(thing1, thing2, divId);
          }
          if (func === `markFeilds`) {
            markFeilds(thing1, thing2, divId);
          }
          setTimeout(function() {
            document.getElementById(divId).classList.add(`hidden`);
            scoreDiv.innerHTML = ``;
            if (nextDiv < 16) {
              nextDiv = `q${nextDiv}`;
              document.getElementById(nextDiv).classList.remove(`hidden`);
            }
          }, 800);
        }
      }
      
      function markRadios(name, num, divId) {
        var scoreDiv = document.getElementById(`score-div`);
        var radios = document.getElementsByName(name);
        var div = document.getElementById(divId);
        if (radios[num].checked) {
          tds[tdCounter].classList.add(`background-green`);
          tdCounter++;
          score++;
          scoreDiv.innerHTML = `<span class="right">Correct!</span>`;
        } else {
          tds[tdCounter].classList.add(`background-red`);
          tdCounter++;
          scoreDiv.innerHTML = `<span class="wrong">Incorrect.</span>`;
        }
        if (divId === `q15`) {
          document.getElementById(`mark-quiz-button`).classList.remove(`hidden`);
        }
        div.classList.add(`hidden`);
      }

      function markFeilds(feildId, answer, divId) {
        var scoreDiv = document.getElementById(`score-div`);
        var feild = document.getElementById(feildId).value;
        var div = document.getElementById(divId);
        if (feild.toLowerCase() === answer) {
          tds[tdCounter].classList.add(`background-green`);
          tdCounter++;
          score++;
          scoreDiv.innerHTML = `<span class="right">Correct!</span>`;
        } else {
          tds[tdCounter].classList.add(`background-red`);
          tdCounter++;
          scoreDiv.innerHTML = `<span class="wrong">Incorrect.</span>`;
        }
        if (divId === `q15`) {
          document.getElementById(`mark-quiz-button`).classList.remove(`hidden`);
        }
        div.classList.add(`hidden`);
      }

      function markQuiz() {
        var scoreDiv = document.getElementById(`score-div`);
        if (score <= 5) {
          scoreDiv.innerHTML = `<span class="big-bold">Score: ${score}/15. Better luck next time!</span>`;
        }
        if (score <= 10 && score > 5) {
          scoreDiv.innerHTML = `<span class="big-bold">Questions right: ${score}/15. Level: grasshopper. Try the viola.</span>`
          setTimeout(function() {
            scoreDiv.innerHTML = `<span class="big-bold">Good thing you're a piano guy.</span>`;
          }, 3000);
        }
        if (score <= 14 && score > 10) {
          scoreDiv.innerHTML = `<span class="big-bold">Questions right: ${score}/15. Well done!</span>`;
        }
        if (score === 15) {
          scoreDiv.innerHTML = `<span class="big-bold">Level: grasshopper. Try the viola.</span>`;
          setTimeout(function() {
            scoreDiv.innerHTML = `<span class="big-bold">Good thing you're a piano guy.</span>`;
            setTimeout(function() {
            scoreDiv.innerHTML = `<span class="big-bold">Just kidding. Actual score... 15/15! Congratulations! You have mastered the quiz!</span>`;
          }, 2500);
          }, 2500);
        }
        document.getElementById(`mark-quiz-button`).classList.add(`hidden`);
      }
      
    </script>

    <h1>
      Pink Bunny Quiz
    </h1>

    <h3>
      This is a quiz with 15 questions. You have one try to get them right. You
      are marked at the end of the quiz, so try to get as many correct as you
      can!
    </h3><br>
    
    <span id="remember"><i><b>Remember:</b> you have to figure everything out yourself! You are not allowed to ask anyone questions to answer the quiz.</i></span>
    
    <br>
    <br>

    <div id="link-to-home-page">
      Return to
      <a href="index.html">home page</a>.
    </div>
    
    <div style="height: 7em;">
    
      <div id="q1" class="hidden">
        What do you think is Pink Bunny's favourite food?<br />
        <input type="radio" name="r1" value="meat" />meat<br />
        <input type="radio" name="r1" value="carrot" />carrot<br />
        <input type="radio" name="r1" value="chocolate" />chocolate<br />
        <button onclick="whenClick('markRadios', 'r1', '1', 'q1');">
          Submit answer
        </button>
      </div>

      <div id="q2" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild1', 'eliana', 'q2');}">
        What is Pink Bunny's owner's name? <br />
        <input
          type="text"
          id="feild1"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button id="b2" onclick="whenClick('markFeilds', 'feild1', 'eliana', 'q2');">
          Submit answer
        </button>
      </div>

      <div id="q3" class="hidden">
        What is Pink Bunny's nickname?<br />
        <input type="radio" name="r2" value="Pinky" />Pinky<br />
        <input type="radio" name="r2" value="Bunny" />Bunny-y<br />
        <input type="radio" name="r2" value="Chocolate Cake" />Chocolate Cake<br />
        <input type="radio" name="r2" value="Pinky Bunny-y" />Pinky Bunny-y<br />
        <input type="radio" name="r2" value="Pinko-Bunch" />Pinko-Bunch<br />
        <button onclick="whenClick('markRadios', 'r2', '4', 'q3');">
          Submit answer
        </button>
      </div>

      <div id="q4" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild3', 'kara', 'q4');}">
        What is the name of the person who made her favourite dress? <br />
        <input
          type="text"
          id="feild3"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild3', 'kara', 'q4');">
          Submit answer
        </button>
      </div>

      <div id="q5" class="hidden" >
        Is Pink Bunny older than Eliana?<br />
        <input type="radio" name="r3" value="yes" />yes<br />
        <input type="radio" name="r3" value="no" />no<br />
        <button onclick="whenClick('markRadios', 'r3', '0', 'q5');">
          Submit answer
        </button>
      </div>

      <div id="q6" class="hidden">
        By how much?<br />
        <input type="radio" name="r4" value="1 year" />1 year<br />
        <input type="radio" name="r4" value="10 days" />10 days<br />
        <input type="radio" name="r4" value="half a year" />half a year<br />
        <input type="radio" name="r4" value="1 million years" />1 million years<br />
        <input type="radio" name="r4" value="1 day" />1 day<br />
        <button onclick="whenClick('markRadios', 'r4', '4', 'q6');">
          Submit answer
        </button>
      </div>

      <div id="q7" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild4', 'yes', 'q7');}">
        Is Pink Bunny a Christian?<br />
        <input
          type="text"
          id="feild4"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild4', 'yes', 'q7');">
          Submit answer
        </button>
      </div>

      <div id="q8" class="hidden">
        What country dose she live in?<br />
        <input type="radio" name="r5" value="Antarctica" />Antarctica<br />
        <input type="radio" name="r5" value="China" />China<br />
        <input type="radio" name="r5" value="Australia"/>Australia<br />
        <input type="radio" name="r5" value="Canada" />Germany<br />
        <button onclick="whenClick('markRadios', 'r5', '2', 'q8');">
          Submit answer
        </button>
      </div>

      <div id="q9" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild2', '9', 'q9');}">
        How many years old is she? <br />
        <input
          type="text"
          id="feild2"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild2', '9', 'q9');">
          Submit answer
        </button>
      </div>

      <div id="q10" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild5', 'pink', 'q10');}">
        What is Pink Bunny's favourite colour?<br />
        <input
          type="text"
          id="feild5"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild5', 'pink', 'q10');">
          Submit answer
        </button>
      </div>

      <div id="q11" class="hidden">
        Most of her friends are<br />
        <input type="radio" name="r6" value="foxes" />foxes<br />
        <input type="radio" name="r6" value="rabbits" />rabbits<br />
        <input type="radio" name="r6" value="eagles" />eagles<br />
        <input type="radio" name="r6" value="snakes" />snakes<br />
        <button onclick="whenClick('markRadios', 'r6', '1', 'q11');">
          Submit answer
        </button>
      </div>

      <div id="q12" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild6', 'hopper', 'q12');}">
        One of Pink Bunny's best friends is a little rabbit named<br />
        <input
          type="text"
          id="feild6"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        />.<br>
        <button onclick="whenClick('markFeilds', 'feild6', 'hopper', 'q12');">
          Submit answer
        </button>
      </div>

      <div id="q13" class="hidden">
        Who's room does she sleep in?<br />
        <input type="radio" name="r7" value="Elijah's" />Elijah's<br />
        <input type="radio" name="r7" value="Joshua's" />Joshua's<br />
        <input type="radio" name="r7" value="Eliana's" />Eliana's<br />
        <input type="radio" name="r7" value="Kara's" />Kara's<br />
        <button onclick="whenClick('markRadios', 'r7', '2', 'q13');">
          Submit answer
        </button>
      </div>
      
      <div id="q14" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild7', 'hoddles creek', 'q14');}">
        What town or suburb does she live in?<br />
        <input
          type="text"
          id="feild7"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild7', 'hoddles creek', 'q14');">
          Submit answer
        </button>
      </div>
      
      <div id="q15" class="hidden" onkeypress="if (event.key === 'Enter') {whenClick('markFeilds', 'feild8', 'yes', 'q15');}">
        And, last but not least, do you love Pink Bunny? (Don't include !)<br>
        <input
          type="text"
          id="feild8"
          onfocus="this.classList.add('onfocus');"
          onblur="this.classList.remove('onfocus');"
        /><br>
        <button onclick="whenClick('markFeilds', 'feild8', 'yes', 'q15');">
          Submit answer
        </button>
      </div>

      <button id="mark-quiz-button" class="margin-bottom hidden" onclick="markQuiz();">
        Mark quiz
      </button>
      
      <br>
          
      <div id="score-div" class="inline"></div>
    
    </div>
    
    <br>
    <br>
    
    <table>
      <tr>
        <td id="td1">1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>7</td>
        <td>8</td>
        <td>9</td>
        <td>10</td>
        <td>11</td>
        <td>12</td>
        <td>13</td>
        <td>14</td>
        <td id="td15">15</td>
      </tr>
    </table>
    
  </body>
  
</html>
